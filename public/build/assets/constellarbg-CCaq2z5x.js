const o=document.getElementById("constellationCanvas"),s=o.getContext("2d");o.width=window.innerWidth;o.height=window.innerHeight;const n=[],h=150,u=getComputedStyle(document.documentElement),g=u.getPropertyValue("--vector-color-light").trim(),y=u.getPropertyValue("--vector-color-dark").trim();function x(){const e=Math.random();return e<.1?"rgba(255, 255, 255, 1)":e<.5?"rgba(255, 255, 255, 0.55)":"rgba(255, 255, 255, 0.25)"}function l(e,t){return{x:e!==void 0?e:Math.random()*o.width,y:t!==void 0?t:Math.random()*o.height,radius:Math.random()*5+3,vx:(Math.random()*.2-.1)*1.875,vy:(Math.random()*.2-.1)*1.875,color:x(),vectorColor:Math.random()>.5?g:y}}for(let e=0;e<h;e++)n.push(l());function v(){s.clearRect(0,0,o.width,o.height);for(let e=0;e<n.length;e++){const t=n[e];s.fillStyle=t.color,s.beginPath(),s.arc(t.x,t.y,t.radius,0,Math.PI*2),s.fill();for(let c=e+1;c<n.length;c++){const i=n[c],r=t.x-i.x,a=t.y-i.y;Math.sqrt(r*r+a*a)<150&&(s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(i.x,i.y),s.strokeStyle=t.vectorColor,s.stroke())}t.x+=t.vx,t.y+=t.vy,t.x<0&&(t.x=o.width),t.x>o.width&&(t.x=0),t.y<0&&(t.y=o.height),t.y>o.height&&(t.y=0)}}function m(){v(),setTimeout(()=>{requestAnimationFrame(m)},1e3/60)}function f(){const e=l();n.push(e),setTimeout(()=>{const t=n.indexOf(e);t!==-1&&n.splice(t,1)},5e3),n.length<h&&setTimeout(f,2e3)}o.addEventListener("mousemove",e=>{const t=e.clientX,c=e.clientY;for(let i=0;i<n.length;i++){const r=n[i],a=r.x-t,d=r.y-c;Math.sqrt(a*a+d*d)<100&&(r.vx+=a*625e-6,r.vy+=d*625e-6)}});o.addEventListener("click",e=>{const t=e.clientX,c=e.clientY,i=l(t,c);n.push(i),setTimeout(()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)},5e3)});m();f();
